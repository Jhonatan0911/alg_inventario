<div *ngIf="loading" class="loader"></div>
<div class="flex justify-content-between mb-5">
  <h1 class="bold">Productos</h1>
  <button pButton label="Nuevo" (click)="openModal()"></button>
</div>

<form [formGroup]="form" (ngSubmit)="cargaProductos()">
  <div class="grid my-3">
    <div class="col-12 md:col-4 flex flex-column gap-2">
      <label htmlFor="filtro">Filtro</label>
      <input pInputText id="filtro" name="filtro" formControlName="filtro" placeholder="Digite la categoría" (input)="cargaProductos($event)"/>
      <small id="filtro-help">Busca apartir del 3 carácter.</small>
    </div>
    <div class="col-12 md:col-4 flex flex-column gap-2">
      <label for="estado">Estado</label>
      <p-dropdown formControlName="estado" [options]="estadosSelect" optionLabel="descripcion" styleClass="w-full p-inputtext-sm" placeholder="Seleccione"></p-dropdown>
    </div>
    <div class="w-1/5" style="align-self: center;">
      <button class="btn btn-primary w-100" type="submit">Buscar</button>
    </div>
  </div>
</form>

<div class="mt-7 grid grid-cols-5 gap-3" *ngIf="products">
  <ng-container *ngFor="let item of products">
    <div class="col-span-1">
      <app-product-card [product]="item" [swVer]="true" (editarEmit)="openModal($event, item)" (verEmit)="ver($event, item)" (eliminarEmit)="eliminar($event, item)"></app-product-card>
    </div>
  </ng-container>
</div>
